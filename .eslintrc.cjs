/**
 * @type {import('eslint').Linter.Config}
 */
module.exports = {
  root: true,
  env: { browser: true, es2020: true },
  ignorePatterns: ["dist", "es", ".eslintrc.cjs", "postcss.config.js", "prettier.config.mjs", "stylelint.config.mjs"],
  extends: [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended",
    "plugin:react-hooks/recommended",
    "plugin:import/typescript",
    "plugin:vitest/recommended",
    "prettier",
  ],
  plugins: ["react-refresh", "import", "prettier"],
  parser: "@typescript-eslint/parser",
  rules: {
    "react-refresh/only-export-components": [1, { allowConstantExport: true }],
    "@typescript-eslint/no-explicit-any": [0, { ignoreRestArgs: true }],
    "@typescript-eslint/no-this-alias": [2, { allowDestructuring: false, allowedNames: ["self", "instance"] }],
    "@typescript-eslint/no-unused-vars": [1, { ignoreRestSiblings: true, args: "after-used" }],
    "array-callback-return": [1, { allowImplicit: true }],
    "global-require": 2,
    "import/default": 2,
    "import/export": 2,
    "import/named": 2,
    "import/namespace": 2,
    "import/newline-after-import": 1,
    "import/no-cycle": [2, { maxDepth: 1, ignoreExternal: true }],
    "import/no-duplicates": 0,
    "import/no-mutable-exports": 2,
    "import/no-named-as-default-member": 0,
    "import/no-named-as-default": 1,
    "import/no-self-import": 2,
    "import/no-unresolved": 2,
    "import/no-useless-path-segments": [2, { noUselessIndex: true }],
    "import/order": [
      1,
      {
        alphabetize: { order: "asc", caseInsensitive: false },
        groups: ["builtin", "external", "internal", "unknown", "sibling", "parent", "index", "object"],
        "newlines-between": "always",
        pathGroups: [
          { pattern: "vite", group: "builtin", position: "before" },
          { pattern: "+(react|react-dom)", group: "builtin", position: "before" },
          { pattern: "+(react|immer|zustand)**", group: "builtin", position: "before" },
          { pattern: "**/+(constants)/**", group: "internal", position: "before" },
          { pattern: "**/+(utils)/**", group: "internal", position: "before" },
          { pattern: "**/+(entities)/**", group: "internal", position: "before" },
          { pattern: "**/+(services)/**", group: "internal", position: "before" },
          { pattern: "**/+(hooks)/**", group: "internal", position: "before" },
          { pattern: "**/+(containers)/**", group: "internal", position: "before" },
          { pattern: "**/+(components)/**", group: "internal", position: "before" },
          { pattern: "**/**.module.+(css|scss)", group: "index", position: "after" },
          { pattern: "**/**.+(css|scss)", group: "index", position: "after" },
          { pattern: "**/**.+(svg|png|jpg|jpeg)", group: "index", position: "after" },
        ],
        pathGroupsExcludedImportTypes: ["+(react|redux)**"],
      },
    ],
    "lines-between-class-members": ["error", "always", { exceptAfterSingleLine: true }],
    "no-console": [1, { allow: ["info", "warn", "error", "debug"] }],
    "no-debugger": 1,
    "no-multi-assign": 1,
    "no-unreachable": 1,
    "no-unused-vars": 0,
    "no-use-before-define": 0,
    "no-var": 2,
    "one-var": [2, "never"],
    "padded-blocks": ["error", "never"],
    "padding-line-between-statements": [
      2,
      { blankLine: "always", prev: ["block-like"], next: ["singleline-const", "singleline-let", "return"] },
      { blankLine: "always", prev: ["*"], next: ["class", "export"] },
      { blankLine: "any", prev: ["export"], next: ["export"] },
    ],
    "prefer-arrow-callback": 1,
    "prefer-const": 1,
    "prefer-object-spread": 1,
    "prettier/prettier": 1,
  },
  settings: { "import/resolver": { typescript: {} } },
}
